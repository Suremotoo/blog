<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Redis 进击 | Suremotoo&#39;s Blog</title>
<link rel="shortcut icon" href="https://suremotoo.coding.me/blog/favicon.ico?v=1558405184529">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://suremotoo.coding.me/blog/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://suremotoo.coding.me/blog">
  <img class="avatar" src="https://suremotoo.coding.me/blog/images/avatar.png?v=1558405184529" alt="">
  </a>
  <h1 class="site-title">
    Suremotoo&#39;s Blog
  </h1>
  <p class="site-description">
    每天叫醒你的不是闹铃，而是梦想
  </p>
  <div class="menu-container">
    
      
        <a href="/blog" class="menu">
          首页
        </a>
      
    
      
        <a href="/blog/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/blog/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/blog/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Suremotoo" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Redis 进击
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2019-04-22 ·
              </time>
              
                <a href="https://suremotoo.coding.me/blog/tag/tag_Redis" class="post-tags">
                  # Redis
                </a>
              
                <a href="https://suremotoo.coding.me/blog/tag/tag_Code" class="post-tags">
                  # Code
                </a>
              
            </div>
            
              <div class="post-feature-image" style="background-image: url('https://github.com/Suremotoo/blog-comment/blob/master/img/redis/redis.png?raw=true')">
              </div>
            
            <div class="post-content">
              <h2 id="nosql">NoSQL</h2>
<p>not only sql；
全新数据库理念；非关系型数据库；</p>
<!--more-->
<h2 id="nosql-特点">NoSQL 特点</h2>
<ul>
<li>易扩展</li>
<li>灵活的数据模型</li>
<li>大数据量,高性能</li>
<li>高可用</li>
</ul>
<h2 id="nosql-数据库的四大分类">NoSQL 数据库的四大分类</h2>
<ul>
<li>键值对存储 eg: redis, 优势：查询快    劣势：数据缺少结构化</li>
<li>列存储 eg: HBase,优势：查询快    劣势：功能相对局限</li>
<li>文档数据库 eg: MongoDB, 优势：数据要求不是很严格    劣势：查询性能不是特别高，缺少统一查询语法</li>
<li>图形数据库 eg: InfoGrid, 优势：利用图结构相关算法    劣势：需要对图进行计算,不容易做分布式集群方案</li>
</ul>
<h2 id="nosql-产品">NoSQL 产品</h2>
<p>MongoDB、Redis、Riak等等</p>
<h2 id="为什么需要-redis">为什么需要 Redis ？</h2>
<ul>
<li>High Performance  高并发读写；</li>
<li>Huge Storage  海量数据的高效率存储和访问；</li>
<li>High Scalability &amp;&amp; High Availability  高可扩展性和高可用性；</li>
</ul>
<h2 id="redis-概述">Redis 概述</h2>
<p>高性能键值对数据库，支持的简直数据类型：</p>
<ul>
<li>字符串类型</li>
<li>列表类型</li>
<li>有序集合类型</li>
<li>散列类型</li>
<li>集合类型</li>
</ul>
<h2 id="redis-应用场景">Redis 应用场景</h2>
<ul>
<li>缓存</li>
<li>任务队列</li>
<li>网站访问统计</li>
<li>数据过期处理</li>
<li>应用排行榜</li>
<li>分布式集群架构中的 session 分离</li>
</ul>
<h2 id="redis-安装">Redis 安装</h2>
<h4 id="mac">Mac</h4>
<p>1、执行 <code>brew install redis</code>
2、启动 redis，可以使用后台服务启动 <code>brew services start redis</code>。或者直接启动：<code>redis-server /usr/local/etc/redis.conf</code></p>
<h2 id="启动配置">启动配置</h2>
<p>通过使用 Homebrew，可以大大降低在 Mac OS X 上设置和配置 Redis 开发环境的成本。</p>
<p><code>brew install redis</code></p>
<p>通过以上命令执行安装。</p>
<p>设置开机启动 Redis</p>
<p><code>ln -sfv /usr/local/opt/redis/*.plist ~/Library/LaunchAgents</code></p>
<p>通过 launchctl 启动 Redis 服务</p>
<p><code>launchctl load ~/Library/LaunchAgents/homebrew.mxcl.redis.plist</code></p>
<p>使用配置文件启动 Redis 服务</p>
<p><code>redis-server /usr/local/etc/redis.conf</code></p>
<p>停用开机启动的 Redis</p>
<p><code>launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.redis.plist</code></p>
<p>Redis 配置文件存放位置</p>
<p><code>/usr/local/etc/redis.conf</code></p>
<p>卸载 Redis 和依赖文件</p>
<p><code>brew uninstall redis</code></p>
<p><code>rm ~/Library/LaunchAgents/homebrew.mxcl.redis.plist</code></p>
<p>获取 Redis 包信息</p>
<p><code>brew info redis</code></p>
<p>测试 Redis 服务是否正在运行</p>
<p><code>redis-cli ping</code></p>
<p>如果回复 “PONG”，表明正常运行！</p>
<h2 id="jedis">Jedis</h2>
<p>Jedis 是 Redis 官方首选的 Java 客户端开发包</p>
<p>入门使用</p>
<pre><code class="language-java">/**
 * 项目名：demo
 * 包名：com.example
 * 类名：Test
 * 描述：
 *
 * @author Suremotoo
 * @create 2018-05-10 09:08
 */
public class Test {

    @org.junit.Test
    public void test() {
        // 1.连接 redis
        Jedis jedis = new Jedis(&quot;127.0.0.1&quot;, 6379);
        // 2.存储数据
        jedis.set(&quot;name&quot;, &quot;Suremotoo&quot;);
        // 3.获取数据
        String value = jedis.get(&quot;name&quot;);
        // 4.控制台打印测试结果
        System.out.println(&quot;value = &quot; + value);
        // 5.关闭连接
        jedis.close();
    }

}
</code></pre>
<p><strong>如果是连接的 Redis 在 Linux 服务器上，需要设置防火墙</strong></p>
<pre><code>vim /etc/sysconfig/iptables
# 添加一行
-A INPUT -m state --state NEW -m tcp -p tcp --dport 6379 -j ACCEPT
</code></pre>
<p>:wq 保存退出, <strong>最后重启 linux 服务器防火墙</strong></p>
<p><code>service iptables restart</code></p>
<h2 id="jedis-与-jdbc-很类似也有连接池">Jedis 与 JDBC 很类似，也有连接池</h2>
<pre><code class="language-java">    /**
     * 连接池方式连接
     */
    @org.junit.Test
    public void poolTest() {
        // 获得连接池的配置对象
        JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();
        // 设置最大连接数
        jedisPoolConfig.setMaxTotal(30);
        // 设置最大空闲连接数
        jedisPoolConfig.setMaxIdle(10);

        // 获得Jedis 连接池
        JedisPool jedisPool = new JedisPool(jedisPoolConfig, &quot;127.0.0.1&quot;, 6379);

        // Jedis 对象
        Jedis jedis = null;

        try {
            // 通过连接池获得连接
            jedis = jedisPool.getResource();
            // 设置数据
            jedis.set(&quot;name&quot;, &quot;Suremotoo&quot;);
            // 获取数据
            String value = jedis.get(&quot;name&quot;);
            System.out.println(&quot;value = &quot; + value);
            if (value != null &amp;&amp; &quot;&quot;.equals(value)) {
                jedis.del(&quot;name&quot;);
            } else {
                System.out.println(&quot; 空 &quot;);
            }

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (jedis != null) {
                jedis.close();
            }

            if (jedisPool != null) {
                jedisPool.close();
            }
        }
    }
</code></pre>

            </div>
          </article>
        </div>
    
        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://suremotoo.coding.me/blog/post/macos-po-jie-ruan-jian-xia-zai">
              <h3 class="post-title">
                Macos 破解软件下载
              </h3>
            </a>
          </div>  
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'bce50134a0bec47556f6',
    clientSecret: 'f545e9b6998fb5abf19f591f68969fa56163a94d',
    repo: 'blog-comment',
    owner: 'Suremotoo',
    admin: ['Suremotoo'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        
    
        <div class="site-footer">
  Powered by <a href="https://github.com/Suremotoo" target="_blank">Suremotoo</a> | 
  <a class="rss" href="https://suremotoo.coding.me/blog/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
